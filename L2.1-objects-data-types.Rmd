---
title: "Objects & Data Types"
output: html_document
---

```{r setup, echo=FALSE, message=FALSE, warning=FALSE}
rm(list=objects()) # start with a clean workspace
source("knitr_setup.R")
```

# Objects

In R, all "assignments" have this form:

```{r eval = FALSE}
objectName <- value
```

where the arrow, `<-`, means "assign `value` to `objectName`".

> [Watch this 1-minute video for a quick summary of **objects**](https://vimeo.com/220493412)

The operator `<-` is a pain to type, so RStudio has a keyboard shortcut: Alt + - (the minus sign). RStudio offers many other handy [keyboard shortcuts](https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts). Also, Alt+Shift+K brings up a keyboard shortcut reference card.

To practice, try assigning `2` to `x`:

```{r}
x <- 2
```

Now type `x` again - notice that it returns the value assigned to it!

```{r}
x
```

If you overwrite an object with a different value, R will "forget" the previous assigned value and only keep the new assignment:

```{r}
x
x <- 42
x
```

**A note on formatting**: Always surround `<-` with spaces! Otherwise your code can be confusing. For example, if you typed `x<-2` (no spaces), it's not clear if you meant `x <- 2` or `x < -2`. The first one assigns `2` to `x`, but the second one compares whether `x` is less than `-2`.

## Object names

You can choose almost any name you like for an object, as long as the name does not begin with a *number* or a special character like `+`, `-`, `*`, `/`, `^`, `!`, `@`, or `&`. You will be wise to adopt a [convention for demarcating words](https://en.wikipedia.org/wiki/Camel_case) in names. Here are a few:

- `snake_case_is_one_choice`
- `other.people.use.periods`
- `camelCaseIsAlsoGood`

Make another assignment:

```{r}
this_is_a_really_long_name <- 2.5
```

To inspect this, try out RStudio's completion facility: type the first few characters, press TAB - voila! RStudio auto-completes the long name for you :)

**R is case sensitive**. To understand what this means, try this:

```{r}
cases_matter <- 2^2
Cases_matter <- 2^3
```

Let's try to inspect:

```{r}
cases_matter
Cases_matter
```

Although the two objects look similar, one has a capital "C", and R stores that as a different object.

In general, type carefully. Typos matter. Case matters. **Get better at typing**.

## The workspace

Look at your workspace in the upper right pane. The workspace is where user-defined objects accumulate. You can also get a listing of these objects with commands:

```{r}
objects()
ls()
```

If you want to remove the object named `x`, you can do this

```{r}
rm(x)
```

To remove everything, use this:

```{r}
rm(list = ls())
```

or click the broom in RStudio's Environment pane.

# Data types

Every programming language has the ability to store data of different types. R recognizes several important basic data types (there are 6 total, but these 4 are all we'll ever use):

Type      | Description                 | Example
----------|-----------------------------|----------
numeric   | Numbers                     | `3.14`, `42`, `1.61803398875`
integer   | A number with no decimal    | `1L`, `7L`
character | Text data, a.k.a. "strings" | `"this is a string"`, `"3.14"`
logical   | Used for comparing objects  | `TRUE`, `FALSE`

To assess the type of any variable, R has two different functions:

- `class()` tells us the high level object type
- `typeof()` tells us the low level object type

We'll use these to explore each data type.

## Numeric types

Numbers in R are of the `numeric` data type, and it is the default computational type. There are two types of numeric data types: **integers** and **floats**. The difference is floats have decimals and integers don't. At the lower level, floats have the type "`double`" while integers have the type "`integer`".

By default, R assumes all numbers are **floats**, even if it _looks_ like an integer:

```{r}
class(3.14)
class(3)
typeof(3.14)
typeof(3)
```

The fact that `3` is not an integer can be confirmed with the `is.integer()`function:

```{r}
is.integer(3)
```

To make a number an integer, you have to either add an `L` to the end, or use the `as.integer()` function to coerce it into an integer type:

```{r}
typeof(3L)
typeof(as.integer(3))
```

Note that you can have a decimal of `0` but the data types can be different:

```{r}
typeof(7)
typeof(7.0)
typeof(7L)
```

## Character types

A character object is used to represent string values in R. Anything put between single quotes (`''`) or double quotes (`""`) will be stored as a character. For example:

```{r}
s <- '3.14'
class(s)
```

Notice that even though the value assigned to `s` is a number, it is stored as a character because the number is surrounded by quotes. If you mistakenly thought it was stored as a number, R will gladly return an error when you try to do a numerical operation with it:

```{r error=TRUE}
s + 7
```

We can also convert objects into character values with the `as.character()` function:

```{r}
a_number <- 3.14
class(a_number)
a_string <- as.character(a_number)
class(a_string)
```

We will go into much more detail about character data later on in [Week 6](L6.1-strings.html)

## Logical types

A logical value is usually created when comparing variables. For example, let's compare whether one value is greater than another:

```{r}
x <- 1
y <- 2
z <- x > y # Is x greater than y?
z
```

The object `z` now stores the value (`FALSE`) that resulted from comparing `x` and `y`.

To compare whether two values are equal, you have to type the `=` sign twice:

```{r}
x == y
```

Here I am asking, "is `x` equal to `y`"? In this case, the answer is `FALSE`.

We will go into more detail about comparing values in R later on in [Week 4](L4.1-conditionals.html)

## Special values

In addition to the four main data types mentioned, there are a few additional "special" types: `Inf`, `NaN`, `NA` and `NULL`.

**Infinity**: `Inf` corresponds to a value that is infinitely large. You can also have `-Inf`. The easiest way to get `Inf` is to divide a positive number by 0:

```{r}
1/0
```

**Not a Number**: `NaN` is short for "not a number", and it's basically a reserved keyword that means "there isn't a mathematically defined number for this." For example:

```{r}
0/0
```

**Not available**: `NA` indicates that the value that is "supposed" to be stored here is missing. We'll see these much more when we start getting into data structures like vector, matrices, and data frames.

**No value**: `NULL` asserts that the variable genuinely has no value whatsoever, or does not even exist.

## Coercing data types

In general, you can force an object into a different type using `as.something()`, replacing "`something`" with a data type:

```{r}
as.numeric(3.1415)
as.integer(3.1415)
as.character(3.1415)
as.logical(3.1415)
```

Note that `as.logical()` returns `TRUE` for any numeric value other than `0`, for which it returns `FALSE`.

If you try to coerce a string into a number, R will return `NA`:

```{r}
as.numeric('foo')
```

If you want to force a float number (i.e. one with decimals) into an integer value, but you don't want to change the actual _type_ to an integer type, use `round()`, `ceiling()`, or `floor()`. This will turn the number into an integer in _value_, but will still technically be float types. Note that these functions produce different outcomes.

```{r}
round(3.1415)   # Typical rounding
ceiling(3.1415) # Rounds *up* to nearest integer
floor(3.1415)   # Rounds *down* to nearest integer
```

# Tips

## Check if a number is an integer

If you use the `is.integer()` function to check if a number that **looks** like an integer, you might get a surprising result:

```{r}
is.integer(7)
```

This is because the default numeric type is a _float_. The safer way to check if a number is an integer in value is to compare it against itself as an integer:

```{r}
7 == as.integer(7)
```

**In your assignments, use this method to check if something is an integer!**

---

**Page sources**:

Some content on this page has been modified from other courses, including:

- Danielle Navarro's website ["R for Psychological Science"](https://psyr.org/index.html)
- Jenny Bryan's [STAT 545 Course](http://stat545.com/)
- [RStudio primers](https://rstudio.cloud/learn/primers/1.2)
- Xiao Ping Song's [Intro2R crash course](https://github.com/xp-song/Intro2R)
